/* ===== Print (A4 landscape, 2 columns, 4 problems per page) ===== */

:root{
  --ink: #0f172a;
  --muted: #475569;
  --line: rgba(15,23,42,.18);
  --box: rgba(15,23,42,.12);
}

body{
  background:#fff;
  color: var(--ink);
}

/* screen toolbar */
.print-toolbar{
  position: sticky;
  top: 0;
  z-index: 1000;
  background: rgba(255,255,255,.96);
  border-bottom: 1px solid #e5e7eb;
  padding: 10px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}

.toolbar-left{ display:flex; align-items:center; gap: 12px; min-width: 0; }
.back-link{ text-decoration:none; color:#2563eb; font-weight: 700; }
.toolbar-title{ min-width:0; }
.pt-set-title{ font-size: 14px; font-weight: 900; }
.pt-subtitle{ font-size: 12px; color: var(--muted); white-space: nowrap; overflow:hidden; text-overflow: ellipsis; max-width: 520px; }

.toolbar-right{ display:flex; align-items:flex-end; gap: 10px; flex-wrap: wrap; justify-content:flex-end; }
.tool{ display:flex; flex-direction:column; gap: 4px; font-size: 11px; color: var(--muted); }
.tool select{ padding: 6px 10px; border-radius: 10px; border:1px solid #d1d5db; background:#fff; }
.print-toolbar button{
  padding: 8px 12px;
  border-radius: 12px;
  border:1px solid #d1d5db;
  background:#fff;
  cursor:pointer;
  font-weight: 800;
}
.print-toolbar button.primary{
  background:#111827;
  border-color:#111827;
  color:#fff;
}

/* print root */
.print-root{
  padding: 10px;
}

/* page */
.print-page{
  break-after: page;
  page-break-after: always;
  padding: 0;
}

.page-header{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 6mm;
  border-bottom: 1px solid var(--box);
  padding-bottom: 3mm;
}

.meta-left{
  display:flex;
  flex-direction:column;
  gap: 3mm;
  min-width: 0;
}

.page-title{
  font-size: 15px;
  font-weight: 900;
}

.meta-row{
  display:flex;
  flex-wrap: wrap;
  gap: 8mm;
  align-items:center;
  color: var(--muted);
  font-size: 11px;
}

.meta-field{
  display:inline-flex;
  align-items:center;
  gap: 6px;
}

.meta-input{
  width: 70px;
  border: none;
  border-bottom: 1px solid var(--line);
  padding: 0 2px 2px 2px;
  outline: none;
  font-size: 12px;
}
.meta-input.w120{ width: 120px; }
.meta-input.w160{ width: 160px; }

.meta-right{
  text-align:right;
  color: var(--muted);
  font-size: 11px;
  white-space: nowrap;
}
.meta-right .docid{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; color: var(--ink); font-weight: 800; }

/* grid: 2x2 */
.page-grid{
  display: flex;
  flex-direction: row;
  gap: 3mm;
}

.page-col{
  flex: 1 1 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 7mm;
}

/* problem card */
.p-card{
    break-inside: avoid;
  page-break-inside: avoid;
  border: 1px solid var(--box);
  border-radius: 10px;
  padding: 5mm;
  display:flex;
  flex-direction:column;
  min-height: 0;
}

.p-head{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap: 8px;
  margin-bottom: 3mm;
}

.p-no{
  font-weight: 900;
  font-size: 12px;
}

.p-type{
  font-size: 10px;
  font-weight: 900;
  padding: 2px 8px;
  border: 1px solid var(--box);
  border-radius: 999px;
  color: var(--muted);
}

.p-title{
  font-size: 12px;
  font-weight: 900;
  margin: 0 0 2mm 0;
}

.p-desc{
  font-size: 11px;
  color: var(--ink);
  white-space: pre-wrap;
  line-height: 1.35;
  margin-bottom: 4mm;
}

.p-code{
  border: 1px solid var(--box);
  border-radius: 8px;
  padding: 3mm;
  margin: 0 0 3mm 0;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 9.5px;
  white-space: pre-wrap;
  line-height: 1.25;
}

.p-options{
  display:flex;
  flex-direction:column;
  gap: 2mm;
  margin-bottom: 3mm;
  margin-top: 2mm; 
  font-size: 10.5px;
}
.p-opt{
  display:flex;
  gap: 6px;
  align-items:flex-start;
}


/* [print.markdown.css] grid2 옵션이 코드박스일 때 공간 절약(잉크/높이 둘 다) */
.p-options.p-options--grid2 .p-code.opt-code{
  padding: 2mm;     /* 기본 3mm → 2mm */
  font-size: 9px;   /* 기본 9.5~10px → 9px */
  line-height: 1.2;
  margin: 0;        /* opt 내부에서는 바깥 여백 최소화 */
}


.p-opt .bullet{
  min-width: 2.4em;      /* 16px → 글자 기준 폭으로 */
  flex: 0 0 auto;
  font-weight: 900;
  white-space: nowrap;  /* ◯ 와 A가 절대 줄바꿈 안 되게 */
  line-height: 1.1;
}
.p-opt .text{
  white-space: pre-wrap;
  line-height: 1.25;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 10px;
}

/* answer areas */
.answer-block{
  margin-top:auto;
  display:flex;
  flex-direction:column;
  gap: 2mm;
}

.answer-label{
  font-size: 10px;
  font-weight: 900;
  color: var(--muted);
}

.answer-lines{
  --lineH: 6mm;
  --n: 4;
  height: calc(var(--lineH) * var(--n));
  border: 1px solid var(--box);
  border-radius: 8px;
  background-image: repeating-linear-gradient(
    to bottom,
    transparent 0,
    transparent calc(var(--lineH) - 0.5mm),
    var(--line) calc(var(--lineH) - 0.5mm),
    var(--line) var(--lineH)
  );
}

.answer-lines.compact{ --n: 2; }
.answer-lines.codebox{ --lineH: 5.2mm; --n: 10; background-image: repeating-linear-gradient(
    to bottom,
    transparent 0,
    transparent calc(var(--lineH) - 0.4mm),
    var(--line) calc(var(--lineH) - 0.4mm),
    var(--line) var(--lineH)
  );
}

.teacher-note{
  margin-top: 2mm;
  border-top: 1px dashed var(--box);
  padding-top: 2mm;
  font-size: 10px;
  color: #0f172a;
}
.teacher-note .k{
  color: var(--muted);
  font-weight: 900;
}

/* print rules */
@page {
  size: A4 landscape;
    /* size: A4 portrait; */

  margin: 10mm;
}

@media print{
  .no-print{ display:none !important; }
  body{ background:#fff; }
  .print-root{ padding: 0; }
  .print-page{ padding: 0; }
  input, select{ -webkit-print-color-adjust: exact; print-color-adjust: exact; }
}


/* ===== Minimal Markdown styling (print) ===== */
.md{ white-space: normal; }
.md .md-p{ margin: 0; }
.md h1.md-h1, .md h2.md-h2, .md h3.md-h3{ margin: 0 0 1mm 0; font-weight: 900; }
.md h1.md-h1{ font-size: 12px; }
.md h2.md-h2{ font-size: 12px; }
.md h3.md-h3{ font-size: 11.5px; }

.md-ul, .md-ol{
  margin: 1mm 0 0 0;
  padding-left: 4mm;
}
.md-ul li, .md-ol li{ margin: 0; }

.md-quote{
  margin: 1mm 0;
  padding: 1mm 2mm;
  border-left: 2px solid var(--line);
  color: var(--muted);
}

.md code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 0.95em;
  padding: 0 2px;
  border: 1px solid var(--line);
  border-radius: 4px;
}

.md pre.md-fence{
  margin: 1mm 0;
  padding: 2mm;
  border: 1px solid var(--line);
  border-radius: 6px;
  background: rgba(15,23,42,.03);
  white-space: pre-wrap;
}
.md pre.md-fence code{
  border: none;
  padding: 0;
  font-size: 9.5px;
}

.md strong{ font-weight: 900; }
.md em{ font-style: italic; }
.md a.md-link{ color: inherit; text-decoration: underline; }


.p-desc.md{ white-space: normal; }
.p-opt .text.md{ white-space: normal; font-family: inherit; }
.p-title.md{ white-space: normal; }

.page-header.page-header--compact{
  margin-top: 5mm;

  margin-bottom: 3mm;
  padding-bottom: 2mm;
}
.page-header.page-header--compact .meta-left{
  gap: 0;
}



/* =========================================================
   B/W print-friendly code blocks (low-ink)
   - Applies to: problem code (.p-code) and option code (.opt-code)
   - Goal: clear separation WITHOUT heavy gray fills
   ========================================================= */

/* Base: keep code readable + stable wrapping */
.p-code,
.opt-code,
pre.p-code,
pre.opt-code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 9.5px;          /* tweak 9.0~10.0 as needed */
  line-height: 1.25;
  white-space: pre-wrap;     /* keep \n + allow wrap on long lines */
  overflow-wrap: anywhere;   /* prevent overflow in narrow columns */
  tab-size: 2;
}

/* Low-ink container styling: thin border, no background fill */
.p-code,
.opt-code {
  border: 0.5px solid #cfcfcf;  /* light gray = low ink */
  border-radius: 6px;
  padding: 3mm 3.5mm;
  margin: 2mm 0;
  background: transparent;      /* IMPORTANT: no gray fill */
}

/* If you used <pre class="p-code"> without <code> inside */
.p-code code,
.opt-code code {
  background: transparent;
  padding: 0;
}



/* Slightly tighter inside MCQ options (often shorter boxes) */
.p-options .opt-code,
.p-options pre.opt-code {
  padding: 2.5mm 3mm;
  margin: 1.5mm 0 0;
}

/* Inline code in markdown (also low-ink) */
.md code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 0.95em;
  border: 0.5px solid #d8d8d8;
  border-radius: 4px;
  padding: 0 0.25em;
  background: transparent;
}

/* Avoid printing heavy shadows anywhere near code blocks */
.p-code,
.opt-code {
  box-shadow: none !important;
}

/* Print-specific: ensure borders remain thin and backgrounds stay off */
@media print {
  .p-code,
  .opt-code,
  .md code {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    background: transparent !important;
  }
}


/* [print.markdown.css] 위치: .p-options 관련 스타일 근처에 추가 */
/* ✅ 2행 2열(짧은 보기일 때만 JS가 붙임) */
.p-options.p-options--grid2{
  display: grid;
  grid-template-columns: 1fr 1fr;
  column-gap: 6mm;
  row-gap: 2.5mm;
}

/* grid2일 때 각 보기 행이 그리드 셀에 자연스럽게 들어가도록 */
.p-options.p-options--grid2 .p-opt{
  margin: 0;           /* 기존 margin 있으면 줄여서 높이 절약 */
}
