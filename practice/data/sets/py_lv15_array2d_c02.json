{
  "id": "py_lv15_array2d_c02",
  "title": "Python 2차원 배열 LV15 챌린지 2회차",
  "categoryId": "py_array2d",
  "availableLanguages": [
    "python"
  ],
  "problems": [
    {
      "id": "mcq1",
      "type": "mcq",
      "level": "기초",
      "title": "MCQ 1. 2차원 누적합 점화식",
      "description": "다음 중 1-indexed 2차원 누적합 ps의 점화식으로 올바른 것은 무엇인가요?",
      "code": "",
      "options": [
        "ps[i][j] = a[i][j] + ps[i-1][j-1]",
        "ps[i][j] = a[i][j] + ps[i-1][j] + ps[i][j-1] + ps[i-1][j-1]",
        "ps[i][j] = a[i][j] + ps[i-1][j] + ps[i][j-1] - ps[i-1][j-1]",
        "ps[i][j] = ps[i-1][j] - ps[i][j-1] + a[i][j]"
      ],
      "optionLabels": [
        "A",
        "B",
        "C",
        "D"
      ],
      "correctIndex": 2
    },
    {
      "id": "code1",
      "type": "code",
      "level": "코드 작성",
      "title": "Code 1. ps 채우기(한 줄)",
      "description": "아래 코드에서 주석 위치에 들어갈 **한 줄**을 작성하세요.\n(1-indexed 2차원 누적합 ps를 계산)",
      "code": "R, C = 3, 4\na = [[0] * (C + 1) for _ in range(R + 1)]\n# (a에 값이 채워져 있다고 가정)\nps = [[0] * (C + 1) for _ in range(R + 1)]\n\nfor i in range(1, R + 1):\n    for j in range(1, C + 1):\n        # TODO: ps[i][j]를 계산하는 한 줄",
      "expectedCode": "ps[i][j] = a[i][j] + ps[i-1][j] + ps[i][j-1] - ps[i-1][j-1]",
      "hint": "2D prefix sum 점화식"
    },
    {
      "id": "short1",
      "type": "short",
      "level": "단답",
      "title": "Short 1. 구간합 공식",
      "description": "누적합 ps를 이용한 구간합 공식(직사각형 합)을 그대로 쓰세요.",
      "code": "",
      "expectedText": "ps[r2][c2] - ps[r1-1][c2] - ps[r2][c1-1] + ps[r1-1][c1-1]"
    },
    {
      "id": "mcq2",
      "type": "mcq",
      "level": "기초",
      "title": "MCQ 2. 구간합 인덱스 실수",
      "description": "2차원 누적합/구간합에서 흔한 실수로 올바른 설명을 고르세요.",
      "code": "",
      "options": [
        "ps 배열을 (R+1)x(C+1)로 만들지 않는다",
        "ps를 만들 때 i와 j를 0부터 시작한다",
        "구간합에서 r1-1 또는 c1-1을 사용하는 것을 빼먹는다",
        "위 모두가 흔한 실수다"
      ],
      "optionLabels": [
        "A",
        "B",
        "C",
        "D"
      ],
      "correctIndex": 3
    },
    {
      "id": "code2",
      "type": "code",
      "level": "코드 작성",
      "title": "Code 2. 구간합 한 줄",
      "description": "아래 코드에서 주석 위치에 들어갈 **한 줄**을 작성하세요.\n(누적합 ps를 이용해 구간합을 s에 저장)",
      "code": "r1, c1, r2, c2 = 2, 2, 3, 4\ns = 0\n# TODO: ps로 구간합 계산\nprint('%d' % s)",
      "expectedCode": "s = ps[r2][c2] - ps[r1-1][c2] - ps[r2][c1-1] + ps[r1-1][c1-1]",
      "hint": "구간합 공식 그대로"
    },
    {
      "id": "mcq3",
      "type": "mcq",
      "level": "기초",
      "title": "MCQ 3. k×k 부분합 반복 범위",
      "description": "1-indexed ps를 사용해 k×k 부분합을 검사할 때, i, j 반복 범위로 가장 적절한 것은 무엇인가요?",
      "code": "",
      "options": [
        "i: 0..R-1, j: 0..C-1",
        "i: k..R, j: k..C (1-indexed 기준)",
        "i: 1..R-k+1, j: 1..C-k+1",
        "i: 1..R, j: 1..C"
      ],
      "optionLabels": [
        "A",
        "B",
        "C",
        "D"
      ],
      "correctIndex": 1
    },
    {
      "id": "code3",
      "type": "code",
      "level": "코드 작성",
      "title": "Code 3. k×k 부분합 최댓값",
      "description": "아래 코드에서 주석 위치에 들어갈 **한 줄**을 작성하세요.\n(1-indexed ps를 이용해 k×k 구간합의 최댓값을 best에 갱신)",
      "code": "# ps는 (R+1)×(C+1)이며 1-indexed로 채워져 있다고 가정\nR, C = 3, 3\nk = 2\nbest = -10**18\n\nfor i in range(k, R + 1):\n    for j in range(k, C + 1):\n        # TODO: (i-k+1, j-k+1) ~ (i, j) 구간합으로 best 갱신\nprint('%d' % best)",
      "expectedCode": "best = max(best, ps[i][j] - ps[i-k][j] - ps[i][j-k] + ps[i-k][j-k])",
      "hint": "k×k 구간합 공식 적용 (r1-1, c1-1)"
    },
    {
      "id": "short2",
      "type": "short",
      "level": "단답",
      "title": "Short 2. k×k 최댓값(예시)",
      "description": "아래 배열에서 k=2일 때 2×2 부분합의 최댓값은 얼마인가요?\n\n```\n1 2 3\n4 5 6\n7 8 9\n```",
      "code": "",
      "expectedText": "28"
    },
    {
      "id": "code4",
      "type": "code",
      "level": "코드 작성",
      "title": "Code 4. 다중 질의 처리(한 줄)",
      "description": "여러 개의 구간합 질의를 처리하려고 합니다.\n아래 코드에서 주석 위치에 들어갈 **출력 한 줄**을 작성하세요.\n(질의마다 구간합 s를 계산해 출력)",
      "code": "# Q, ps는 이미 준비되어 있다고 가정\nfor _ in range(Q):\n    r1, c1, r2, c2 = map(int, input().split())\n    s = ps[r2][c2] - ps[r1-1][c2] - ps[r2][c1-1] + ps[r1-1][c1-1]\n    # TODO: s 출력",
      "expectedCode": "print('%d' % s)",
      "hint": "출력은 % 서식 사용"
    }
  ]
}